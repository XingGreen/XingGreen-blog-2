---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
import LeftSidebar from '../components/LeftSidebar.astro';
import RightSidebar from '../components/RightSidebar.astro';

const friends = [
  {
    name: '示例博客1',
    url: 'https://example1.com',
    description: '这是一个示例博客描述',
    avatar: '/images/friend1.jpg'
  },
];
---

<Layout title="友链 - XingGreen's blog">
  <Navbar />

  <main class="main-content">
    <div class="content-wrapper">
      <LeftSidebar />
      
      <div class="center-content">
        <section class="friends-section">
          <h1 class="section-title">友情链接</h1>
          
          <div class="friends-intro glass-card scroll-reveal">
            <h3>申请友链</h3>
            <p>欢迎交换友情链接！请通过联系我页面发送您的博客信息。</p>
            <ul class="requirements">
              <li>内容健康，无违法违规内容</li>
              <li>保持更新，至少每月更新一次</li>
              <li>技术类博客优先</li>
              <li>请在您的博客中添加本站链接</li>
            </ul>
          </div>

          <div class="friends-grid">
            {friends.map(friend => (
              <a href={friend.url} target="_blank" rel="noopener noreferrer" class="friend-card glass-card scroll-reveal">
                <div class="friend-avatar">
                  <img src={friend.avatar} alt={friend.name} />
                </div>
                <div class="friend-info">
                  <h4 class="friend-name">{friend.name}</h4>
                  <p class="friend-description">{friend.description}</p>
                </div>
              </a>
            ))}
          </div>
        </section>
      </div>
      
      <RightSidebar />
    </div>
  </main>
</Layout>

<style>
  .main-content {
    min-height: 100vh;
    padding-top: 60px;
  }

  .content-wrapper {
    display: grid;
    grid-template-columns: 280px 1fr 280px;
    gap: 24px;
    max-width: 1400px;
    margin: 0 auto;
    padding: 40px 20px;
  }

  .center-content {
    min-width: 0;
  }

  .friends-section {
    padding: 20px;
  }

  .section-title {
    font-size: 2rem;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 32px;
    padding-bottom: 12px;
    border-bottom: 2px solid var(--mint-green);
  }

  .friends-intro {
    padding: 24px;
    margin-bottom: 32px;
  }

  .friends-intro h3 {
    font-size: 1.3rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 12px;
  }

  .friends-intro p {
    color: var(--text-secondary);
    line-height: 1.6;
    margin-bottom: 16px;
  }

  .requirements {
    list-style: none;
    padding-left: 0;
  }

  .requirements li {
    padding: 8px 0;
    padding-left: 24px;
    position: relative;
    color: var(--text-secondary);
  }

  .requirements li::before {
    content: '✓';
    position: absolute;
    left: 0;
    color: var(--mint-green);
    font-weight: bold;
  }

  .friends-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 20px;
  }

  .friend-card {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 20px;
    text-decoration: none;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .friend-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
  }

  .friend-avatar {
    width: 60px;
    height: 60px;
    border-radius: 8px;
    overflow: hidden;
    flex-shrink: 0;
  }

  .friend-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .friend-info {
    flex: 1;
    min-width: 0;
  }

  .friend-name {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 6px;
    transition: color 0.3s ease;
  }

  .friend-card:hover .friend-name {
    color: var(--mint-green);
  }

  .friend-description {
    font-size: 0.9rem;
    color: var(--text-secondary);
    line-height: 1.4;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
  }

  @media (max-width: 1024px) {
    .content-wrapper {
      grid-template-columns: 1fr;
      gap: 20px;
    }

    .center-content {
      order: -1;
    }
  }

  @media (max-width: 768px) {
    .content-wrapper {
      padding: 20px 4%;
    }

    .friends-section {
      padding: 16px;
    }

    .friends-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
